# Diagrama de aplicación de una sola página (SPA)

Este diagrama describe lo que sucede cuando un usuario accede a la versión **Single Page Application (SPA)** de la aplicación de notas en [https://studies.cs.helsinki.fi/exampleapp/spa](https://studies.cs.helsinki.fi/exampleapp/spa).

```mermaid
sequenceDiagram
    participant user as Usuario
    participant browser as Navegador
    participant server as Servidor

    user->>browser: Accede a https://studies.cs.helsinki.fi/exampleapp/spa
    browser->>server: GET /spa
    activate server
    server-->>browser: HTML + CSS + JavaScript
    deactivate server

    Note right of browser: El navegador ejecuta el JavaScript que solicita las notas

    browser->>server: GET /spa/data.json
    activate server
    server-->>browser: JSON con la lista de notas
    deactivate server

    Note right of browser: JavaScript renderiza la lista de notas

    user->>browser: Escribe nueva nota y pulsa "Save"
    Note right of browser: JavaScript envía POST a /spa/new_note
    browser->>server: POST /spa/new_note
    activate server
    server-->>browser: JSON con la nota creada
    deactivate server

    Note right of browser: JavaScript actualiza la lista de notas sin recargar la página
